---
title: Patrón de datos en capas para análisis con Azure y Azure Stack Hub
description: Aprenda a usar Azure y Azure Stack Hub para implementar una solución de datos en capas en la nube híbrida.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: b671fa9f47fa51ab6e40633c04964957d613fec2
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/17/2020
ms.locfileid: "84912011"
---
# <a name="tiered-data-for-analytics-pattern"></a><span data-ttu-id="f805f-103">Patrón de datos en capas para análisis</span><span class="sxs-lookup"><span data-stu-id="f805f-103">Tiered data for analytics pattern</span></span>

<span data-ttu-id="f805f-104">Este patrón ilustra el uso de Azure Stack Hub y Azure para organizar, analizar, procesar, sanear y almacenar datos en varias ubicaciones locales y en la nube.</span><span class="sxs-lookup"><span data-stu-id="f805f-104">This pattern illustrates how to use Azure Stack Hub and Azure to stage, analyze, process, sanitize, and store data across multiple on-premises and cloud locations.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="f805f-105">Contexto y problema</span><span class="sxs-lookup"><span data-stu-id="f805f-105">Context and problem</span></span>

<span data-ttu-id="f805f-106">Uno de los problemas a los que se enfrentan las organizaciones empresariales en el panorama tecnológico moderno tiene que ver con el almacenamiento, procesamiento y análisis de datos seguros.</span><span class="sxs-lookup"><span data-stu-id="f805f-106">One of the problems facing enterprise organizations in the modern technology landscape concerns secure data storage, processing, and analyzing.</span></span> <span data-ttu-id="f805f-107">Entre las consideraciones se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="f805f-107">Considerations include:</span></span>

- <span data-ttu-id="f805f-108">contenido de datos</span><span class="sxs-lookup"><span data-stu-id="f805f-108">data content</span></span>
- <span data-ttu-id="f805f-109">ubicación</span><span class="sxs-lookup"><span data-stu-id="f805f-109">location</span></span>
- <span data-ttu-id="f805f-110">requisitos de seguridad y privacidad</span><span class="sxs-lookup"><span data-stu-id="f805f-110">security and privacy requirements</span></span>
- <span data-ttu-id="f805f-111">permisos de acceso</span><span class="sxs-lookup"><span data-stu-id="f805f-111">access permissions</span></span>
- <span data-ttu-id="f805f-112">mantenimiento</span><span class="sxs-lookup"><span data-stu-id="f805f-112">maintenance</span></span>
- <span data-ttu-id="f805f-113">almacenamiento</span><span class="sxs-lookup"><span data-stu-id="f805f-113">storage warehousing</span></span>

<span data-ttu-id="f805f-114">Azure, en combinación con Azure Stack Hub, aborda los problemas de los datos y ofrece soluciones de bajo costo.</span><span class="sxs-lookup"><span data-stu-id="f805f-114">Azure, in combination with Azure Stack Hub, addresses data concerns and offers low-cost solutions.</span></span> <span data-ttu-id="f805f-115">Esta solución se expresa mejor a través de una empresa de fabricación o logística distribuida.</span><span class="sxs-lookup"><span data-stu-id="f805f-115">This solution is best expressed through a distributed manufacturing or logistics company.</span></span>

<span data-ttu-id="f805f-116">La solución se basa en el siguiente escenario:</span><span class="sxs-lookup"><span data-stu-id="f805f-116">The solution is based on the following scenario:</span></span>

- <span data-ttu-id="f805f-117">Una gran organización de fabricación de varias sucursales.</span><span class="sxs-lookup"><span data-stu-id="f805f-117">A large multi-branch manufacturing organization.</span></span>
- <span data-ttu-id="f805f-118">Es necesario el almacenamiento, el procesamiento y la distribución de datos de forma rápida y segura entre las ubicaciones remotas globales y su sede central.</span><span class="sxs-lookup"><span data-stu-id="f805f-118">Rapid and secure data storage, processing, and distribution between global remote locations and its central headquarters are required.</span></span>
- <span data-ttu-id="f805f-119">Actividad de empleados y maquinaria, información de instalaciones y datos de informes empresariales que deben permanecer seguros.</span><span class="sxs-lookup"><span data-stu-id="f805f-119">Employee and machinery activity, facility information, and business reporting data that must remain secure.</span></span> <span data-ttu-id="f805f-120">Los datos se deben distribuir de forma adecuada y deben satisfacer la directiva regional de cumplimiento y las normativas del sector.</span><span class="sxs-lookup"><span data-stu-id="f805f-120">The data must be distributed appropriately and meet regional compliance policy and industry regulations.</span></span>

## <a name="solution"></a><span data-ttu-id="f805f-121">Solución</span><span class="sxs-lookup"><span data-stu-id="f805f-121">Solution</span></span>

<span data-ttu-id="f805f-122">La utilización de entornos locales y en la nube pública para satisfacer las necesidades de empresas con varias sedes.</span><span class="sxs-lookup"><span data-stu-id="f805f-122">Using both on-premises and public cloud environments meets the demands of multi-facility enterprises.</span></span> <span data-ttu-id="f805f-123">Azure Stack Hub ofrece una solución rápida, segura y flexible para recopilar, procesar, almacenar y distribuir datos locales y remotos.</span><span class="sxs-lookup"><span data-stu-id="f805f-123">Azure Stack Hub offers a rapid, secure, and flexible solution for collecting, processing, storing, and distributing local and remote data.</span></span> <span data-ttu-id="f805f-124">Este patrón es especialmente útil cuando la seguridad, confidencialidad, directiva corporativa y los requisitos normativos pueden diferir entre ubicaciones y usuarios.</span><span class="sxs-lookup"><span data-stu-id="f805f-124">This pattern is especially useful when security, confidentiality, corporate policy, and regulatory requirements may differ between locations and users.</span></span>

![Patrón de datos en capas para la arquitectura de la solución de análisis](media/pattern-tiered-data-analytics/solution-architecture.png)

## <a name="components"></a><span data-ttu-id="f805f-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="f805f-126">Components</span></span>

<span data-ttu-id="f805f-127">Este patrón usa los siguientes componentes:</span><span class="sxs-lookup"><span data-stu-id="f805f-127">This pattern uses the following components:</span></span>

| <span data-ttu-id="f805f-128">Nivel</span><span class="sxs-lookup"><span data-stu-id="f805f-128">Layer</span></span> | <span data-ttu-id="f805f-129">Componente</span><span class="sxs-lookup"><span data-stu-id="f805f-129">Component</span></span> | <span data-ttu-id="f805f-130">Descripción</span><span class="sxs-lookup"><span data-stu-id="f805f-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="f805f-131">Azure</span><span class="sxs-lookup"><span data-stu-id="f805f-131">Azure</span></span> | <span data-ttu-id="f805f-132">Storage</span><span class="sxs-lookup"><span data-stu-id="f805f-132">Storage</span></span> | <span data-ttu-id="f805f-133">Una cuenta de [Azure Storage](/azure/storage/) proporciona un punto de conexión de consumo de datos estéril.</span><span class="sxs-lookup"><span data-stu-id="f805f-133">An [Azure Storage](/azure/storage/) account provides a sterile data consumption endpoint.</span></span> <span data-ttu-id="f805f-134">Azure Storage es la solución de almacenamiento de Microsoft para los escenarios modernos de almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="f805f-134">Azure Storage is Microsoft's cloud storage solution for modern data storage scenarios.</span></span> <span data-ttu-id="f805f-135">Azure Storage ofrece un almacén de objetos que se puede escalar de forma masiva destinado a objetos de datos y un servicio de sistema de archivos para la nube.</span><span class="sxs-lookup"><span data-stu-id="f805f-135">Azure Storage offers a massively scalable object store for data objects and a file system service for the cloud.</span></span> <span data-ttu-id="f805f-136">También proporciona una tienda de mensajería para mensajería confiable y una tienda NoSQL.</span><span class="sxs-lookup"><span data-stu-id="f805f-136">It also provides a messaging store for reliable messaging and a NoSQL store.</span></span> |
| <span data-ttu-id="f805f-137">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="f805f-137">Azure Stack Hub</span></span> | <span data-ttu-id="f805f-138">Storage</span><span class="sxs-lookup"><span data-stu-id="f805f-138">Storage</span></span> | <span data-ttu-id="f805f-139">Se usa una cuenta de [almacenamiento de Azure Stack Hub](/azure-stack/user/azure-stack-storage-overview) para varios servicios:</span><span class="sxs-lookup"><span data-stu-id="f805f-139">An [Azure Stack Hub Storage](/azure-stack/user/azure-stack-storage-overview) account is used for multiple services:</span></span><br><br><span data-ttu-id="f805f-140">- **Blob Storage** para el almacenamiento de datos sin procesar.</span><span class="sxs-lookup"><span data-stu-id="f805f-140">- **Blob storage** for raw data storage.</span></span> <span data-ttu-id="f805f-141">Blob Storage puede contener cualquier tipo de datos binarios o texto, como un documento, un archivo multimedia o un instalador de aplicación.</span><span class="sxs-lookup"><span data-stu-id="f805f-141">Blob storage can hold any type of text or binary data, such as a document, media file, or app installer.</span></span> <span data-ttu-id="f805f-142">Cada blob se organiza en un contenedor.</span><span class="sxs-lookup"><span data-stu-id="f805f-142">Every blob is organized under a container.</span></span> <span data-ttu-id="f805f-143">Los contenedores ofrecen una forma útil de asignar directivas de seguridad a grupos de objetos.</span><span class="sxs-lookup"><span data-stu-id="f805f-143">Containers provide a useful way to assign security policies to groups of objects.</span></span> <span data-ttu-id="f805f-144">Una cuenta de almacenamiento puede incluir un número cualquiera de contenedores y, a su vez, un contenedor puede incluir un número cualquiera de blobs, hasta alcanzar el límite de capacidad de 500 TB de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="f805f-144">A storage account may contain any number of containers, and a container can contain any number of blobs, up to the 500-TB capacity limit of the storage account.</span></span><br><span data-ttu-id="f805f-145">- **Blob Storage** para archivo de datos.</span><span class="sxs-lookup"><span data-stu-id="f805f-145">- **Blob storage** for data archive.</span></span> <span data-ttu-id="f805f-146">Hay ventajas en el almacenamiento de bajo costo para el archivo de datos de acceso esporádico.</span><span class="sxs-lookup"><span data-stu-id="f805f-146">There are benefits to low-cost storage for cool data archiving.</span></span> <span data-ttu-id="f805f-147">Entre los ejemplos de datos de acceso esporádico se encuentran las copias de seguridad, el contenido multimedia, los datos científicos, la información de cumplimiento y los datos de archivo.</span><span class="sxs-lookup"><span data-stu-id="f805f-147">Examples of cool data include backups, media content, scientific data, compliance, and archival data.</span></span> <span data-ttu-id="f805f-148">En general, los datos a los que se accede con poca frecuencia se consideran de almacenamiento de acceso esporádico.</span><span class="sxs-lookup"><span data-stu-id="f805f-148">In general, any data that's accessed infrequently is considered cool storage.</span></span> <span data-ttu-id="f805f-149">Se trata de datos en capas basados en atributos como la frecuencia de acceso y el período de retención.</span><span class="sxs-lookup"><span data-stu-id="f805f-149">Tiering data based on attributes like frequency of access and retention period.</span></span> <span data-ttu-id="f805f-150">A los datos del cliente se accede con poca frecuencia, pero requieren latencia y rendimiento similares a los datos de acceso frecuente.</span><span class="sxs-lookup"><span data-stu-id="f805f-150">Customer data is infrequently accessed but requires similar latency and performance to hot data.</span></span><br><span data-ttu-id="f805f-151">- **Queue Storage** para el almacenamiento de datos procesado.</span><span class="sxs-lookup"><span data-stu-id="f805f-151">- **Queue storage** for processed data storage.</span></span> <span data-ttu-id="f805f-152">Queue Storage proporciona mensajería en la nube entre componentes de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f805f-152">Queue storage provides cloud messaging between app components.</span></span> <span data-ttu-id="f805f-153">A la hora de diseñar aplicaciones para escalar, los componentes de las mismas suelen desacoplarse para poder escalarse de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="f805f-153">In designing apps for scale, app components are often decoupled so they can scale independently.</span></span> <span data-ttu-id="f805f-154">Queue Storage ofrece mensajería asincrónica para la comunicación entre los componentes de las aplicaciones, independientemente de si se ejecutan en la nube, en el escritorio, en un servidor local o en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="f805f-154">Queue storage delivers asynchronous messaging for communication between app components, whether they're running in the cloud, on the desktop, an on-premises server, or a mobile device.</span></span> <span data-ttu-id="f805f-155">Además, este tipo de almacenamiento admite la administración de tareas asincrónicas y la creación de flujos de trabajo de procesos.</span><span class="sxs-lookup"><span data-stu-id="f805f-155">Queue storage also supports managing asynchronous tasks and building process work flows.</span></span> |
| | <span data-ttu-id="f805f-156">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="f805f-156">Azure Functions</span></span> | <span data-ttu-id="f805f-157">El servicio de [Azure Functions](/azure/azure-functions/) lo proporciona el proveedor de recursos de [Azure App Service en Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview).</span><span class="sxs-lookup"><span data-stu-id="f805f-157">The [Azure Functions](/azure/azure-functions/) service is provided by the [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) resource provider.</span></span> <span data-ttu-id="f805f-158">Azure Functions permite ejecutar el código en un entorno sencillo sin servidor en respuesta a diversos eventos.</span><span class="sxs-lookup"><span data-stu-id="f805f-158">Azure Functions lets you execute your code in a simple, serverless environment in response to a variety of events.</span></span> <span data-ttu-id="f805f-159">Azure Functions se escala para satisfacer la demanda sin tener que crear una máquina virtual o publicar una aplicación web con el lenguaje de programación que prefiera.</span><span class="sxs-lookup"><span data-stu-id="f805f-159">Azure Functions scale to meet demand without having to create a VM or publish a web app, using the programming language of your choice.</span></span> <span data-ttu-id="f805f-160">La solución usa Functions para:</span><span class="sxs-lookup"><span data-stu-id="f805f-160">Functions are used by the solution for:</span></span><br><br><span data-ttu-id="f805f-161">- **Entrada de datos**</span><span class="sxs-lookup"><span data-stu-id="f805f-161">- **Data intake**</span></span><br><span data-ttu-id="f805f-162">- **Esterilización de datos.**</span><span class="sxs-lookup"><span data-stu-id="f805f-162">- **Data sterilization.**</span></span> <span data-ttu-id="f805f-163">Las funciones desencadenadas manualmente pueden realizar el procesamiento de datos, la limpieza y el archivado programado de los datos.</span><span class="sxs-lookup"><span data-stu-id="f805f-163">Manually triggered functions can perform scheduled data processing, clean up, and archiving.</span></span> <span data-ttu-id="f805f-164">Entre los ejemplos se incluyen las limpiezas nocturnas de las listas de clientes y el procesamiento mensual de informes.</span><span class="sxs-lookup"><span data-stu-id="f805f-164">Examples may include nightly customer list scrubs and monthly report processing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="f805f-165">Problemas y consideraciones</span><span class="sxs-lookup"><span data-stu-id="f805f-165">Issues and considerations</span></span>

<span data-ttu-id="f805f-166">Tenga en cuenta los puntos siguientes al decidir cómo implementar esta solución:</span><span class="sxs-lookup"><span data-stu-id="f805f-166">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="f805f-167">Escalabilidad</span><span class="sxs-lookup"><span data-stu-id="f805f-167">Scalability</span></span>

<span data-ttu-id="f805f-168">Azure Functions y las soluciones de almacenamiento se escalan para satisfacer las demandas de procesamiento y volumen de datos.</span><span class="sxs-lookup"><span data-stu-id="f805f-168">Azure Functions and storage solutions scale to meet data volume and processing demands.</span></span> <span data-ttu-id="f805f-169">Para más información sobre la escalabilidad y los destinos de Azure, consulte la [documentación de escalabilidad de Azure Storage](/azure/storage/common/storage-scalability-targets).</span><span class="sxs-lookup"><span data-stu-id="f805f-169">For Azure scalability information and targets, see [Azure Storage scalability documentation](/azure/storage/common/storage-scalability-targets).</span></span>

### <a name="availability"></a><span data-ttu-id="f805f-170">Disponibilidad</span><span class="sxs-lookup"><span data-stu-id="f805f-170">Availability</span></span>

<span data-ttu-id="f805f-171">El almacenamiento es la consideración de disponibilidad principal para este patrón.</span><span class="sxs-lookup"><span data-stu-id="f805f-171">Storage is the primary availability consideration for this pattern.</span></span> <span data-ttu-id="f805f-172">Se requiere una conexión mediante vínculos rápidos para el procesamiento y distribución de volúmenes de datos grandes.</span><span class="sxs-lookup"><span data-stu-id="f805f-172">Connection via fast links is required for large data volume processing and distribution.</span></span>

### <a name="manageability"></a><span data-ttu-id="f805f-173">Facilidad de uso</span><span class="sxs-lookup"><span data-stu-id="f805f-173">Manageability</span></span>

<span data-ttu-id="f805f-174">La manejabilidad de esta solución depende de las herramientas de creación en uso y de la involucración del control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="f805f-174">Manageability of this solution depends on authoring tools in use and engagement of source control.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f805f-175">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f805f-175">Next steps</span></span>

<span data-ttu-id="f805f-176">Para más información sobre los temas presentados en este artículo:</span><span class="sxs-lookup"><span data-stu-id="f805f-176">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="f805f-177">Consulte la documentación de [Azure Storage](/azure/storage/) y [Azure Functions](/azure/azure-functions/).</span><span class="sxs-lookup"><span data-stu-id="f805f-177">See the [Azure Storage](/azure/storage/) and [Azure Functions](/azure/azure-functions/) documentation.</span></span> <span data-ttu-id="f805f-178">Este patrón hace un uso intensivo de cuentas de Azure Storage y Azure Functions, tanto en Azure como en Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="f805f-178">This pattern makes heavy use of Azure Storage accounts and Azure Functions on both Azure and Azure Stack Hub.</span></span>
- <span data-ttu-id="f805f-179">Consulte [Consideraciones sobre el diseño de aplicaciones híbridas](overview-app-design-considerations.md) para más información sobre los procedimientos recomendados y para obtener respuestas a preguntas adicionales.</span><span class="sxs-lookup"><span data-stu-id="f805f-179">See [Hybrid application design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to additional questions.</span></span>
- <span data-ttu-id="f805f-180">Consulte la información relativa a la [familia de productos y soluciones de Azure Stack](/azure-stack) para más información sobre toda la gama de productos y soluciones.</span><span class="sxs-lookup"><span data-stu-id="f805f-180">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="f805f-181">Cuando esté listo para probar la solución de ejemplo, continúe con la [guía de implementación de soluciones de datos por niveles para análisis](https://aka.ms/tiereddatadeploy).</span><span class="sxs-lookup"><span data-stu-id="f805f-181">When you're ready to test the solution example, continue with the [Tiered data for analytics solution deployment guide](https://aka.ms/tiereddatadeploy).</span></span> <span data-ttu-id="f805f-182">La guía de implementación proporciona instrucciones paso a paso para implementar y probar sus componentes.</span><span class="sxs-lookup"><span data-stu-id="f805f-182">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
