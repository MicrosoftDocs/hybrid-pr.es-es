---
title: Patrón DevOps en Azure Stack Hub
description: Más información sobre el patrón DevOps para que pueda garantizar la coherencia entre las implementaciones de Azure y Azure Stack Hub.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: e26056a9507a7467473b009725d4f210d9d59ec8
ms.sourcegitcommit: d2def847937178f68177507be151df2aa8e25d53
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/20/2020
ms.locfileid: "86477242"
---
# <a name="devops-pattern"></a><span data-ttu-id="9fbfa-103">Patrón DevOps</span><span class="sxs-lookup"><span data-stu-id="9fbfa-103">DevOps pattern</span></span>

<span data-ttu-id="9fbfa-104">Programe desde una única ubicación y realice la implementación en varios destinos en entornos de desarrollo, pruebas y producción que pueden estar ubicados en el centro de datos local, en nubes privadas o en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-104">Code from a single location and deploy to multiple targets in development, test, and production environments that may be in your local datacenter, private clouds, or the public cloud.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="9fbfa-105">Contexto y problema</span><span class="sxs-lookup"><span data-stu-id="9fbfa-105">Context and problem</span></span>

<span data-ttu-id="9fbfa-106">La continuidad, la seguridad y la confiabilidad de la implementación de las aplicaciones resultan fundamentales para las organizaciones y vitales para los equipos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-106">Application deployment continuity, security, and reliability are essential to organizations and critical to development teams.</span></span>

<span data-ttu-id="9fbfa-107">A menudo, las aplicaciones requieren la refactorización de código para ejecutarse en cada entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-107">Apps often require refactored code to run in each target environment.</span></span> <span data-ttu-id="9fbfa-108">Esto significa que la aplicación no es totalmente portátil.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-108">This means that an app isn't completely portable.</span></span> <span data-ttu-id="9fbfa-109">Debe actualizarse, probarse y validarse a medida que se traslada a cada entorno.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-109">It must be updated, tested, and validated as it moves through each environment.</span></span> <span data-ttu-id="9fbfa-110">Por ejemplo, el código escrito en un entorno de desarrollo debe volver a escribirse para que funcione en un entorno de pruebas y debe volver a escribirse cuando finalmente llega a un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-110">For example, code written in a development environment must then be rewritten to work in a test environment and rewritten when it finally lands in a production environment.</span></span> <span data-ttu-id="9fbfa-111">Además, este código está vinculado específicamente al host,</span><span class="sxs-lookup"><span data-stu-id="9fbfa-111">Furthermore, this code is specifically tied to the host.</span></span> <span data-ttu-id="9fbfa-112">lo que aumenta el costo y la complejidad del mantenimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-112">This increases the cost and complexity of maintaining your app.</span></span> <span data-ttu-id="9fbfa-113">Cada versión de la aplicación está vinculada a cada entorno.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-113">Each version of the app is tied to each environment.</span></span> <span data-ttu-id="9fbfa-114">Esta mayor complejidad y la duplicación aumentan los riesgos relacionados con la seguridad y la calidad del código.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-114">The increased complexity and duplication increase the risk of security and code quality.</span></span> <span data-ttu-id="9fbfa-115">Además, el código no se puede volver a implementar fácilmente cuando se eliminan los hosts con error de restauración o se implementan hosts adicionales para administrar los aumentos de la demanda.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-115">In addition, the code can't be readily redeployed when you remove restore failed hosts or deploy additional hosts to handle increases in demand.</span></span>

## <a name="solution"></a><span data-ttu-id="9fbfa-116">Solución</span><span class="sxs-lookup"><span data-stu-id="9fbfa-116">Solution</span></span>

<span data-ttu-id="9fbfa-117">El patrón DevOps le permite compilar, probar e implementar una aplicación que se ejecuta en varias nubes.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-117">The DevOps Pattern enables you to build, test, and deploy an app that runs on multiple clouds.</span></span> <span data-ttu-id="9fbfa-118">Este patrón une las prácticas de integración continua y de entrega continua.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-118">This pattern unites the practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="9fbfa-119">Con la integración continua, el código se compila y se prueba cada vez que un miembro del equipo confirma un cambio en el control de versiones.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-119">With continuous integration, code is built and tested every time a team member commits a change to version control.</span></span> <span data-ttu-id="9fbfa-120">La entrega continua automatiza cada paso de una compilación a un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-120">Continuous delivery automates each step from a build to a production environment.</span></span> <span data-ttu-id="9fbfa-121">Juntos, estos procesos crean un proceso de versión que admite la implementación en diversos entornos.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-121">Together, these processes create a release process that supports deployment across diverse environments.</span></span> <span data-ttu-id="9fbfa-122">Con este patrón, puede preparar el código y, a continuación, implementarlo en un entorno local, en nubes privadas diferentes y en nubes públicas.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-122">With this pattern, you can draft your code and then deploy the same code to a premise environment, different private clouds, and the public clouds.</span></span> <span data-ttu-id="9fbfa-123">Las diferencias en el entorno requieren realizar un cambio en un archivo de configuración en lugar de cambios en el código.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-123">Differences in environment require a change to a configuration file rather than changes to the code.</span></span>

![Patrón DevOps](media/pattern-cicd-pipeline/hybrid-ci-cd.png)

<span data-ttu-id="9fbfa-125">Con un conjunto coherente de herramientas de desarrollo en entornos locales, de nube privada y de nube pública, puede implementar una práctica de integración continua y entrega continua.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-125">With a consistent set of development tools across on-premises, private cloud, and public cloud environments, you can implement a practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="9fbfa-126">Las aplicaciones y los servicios implementados con el patrón DevOps son intercambiables y pueden ejecutarse en cualquiera de estas ubicaciones, aprovechando las características y funcionalidades de los entornos local y de nube pública.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-126">Apps and services deployed using the DevOps Pattern are interchangeable and can run in any of these locations, taking advantage of on-premises and public cloud features and capabilities.</span></span>

<span data-ttu-id="9fbfa-127">El uso de una canalización de versión de DevOps le ayuda a realizar lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-127">Using a DevOps release pipeline helps you:</span></span>

- <span data-ttu-id="9fbfa-128">Iniciar una nueva compilación basada en confirmaciones de código en un único repositorio.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-128">Initiate a new build based on code commits to a single repository.</span></span>
- <span data-ttu-id="9fbfa-129">Implementar automáticamente el código recién compilado en la nube pública para llevar a cabo las pruebas de aceptación de usuario.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-129">Automatically deploy your newly built code to the public cloud for user acceptance testing.</span></span>
- <span data-ttu-id="9fbfa-130">Realizar la implementación automáticamente a una nube privada una vez que el código ha pasado las pruebas.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-130">Automatically deploy to a private cloud once your code has passed testing.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="9fbfa-131">Problemas y consideraciones</span><span class="sxs-lookup"><span data-stu-id="9fbfa-131">Issues and considerations</span></span>

<span data-ttu-id="9fbfa-132">El patrón DevOps está pensado para garantizar la coherencia entre las implementaciones, independientemente del entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-132">The DevOps Pattern is intended to ensure consistency across deployments regardless of the target environment.</span></span> <span data-ttu-id="9fbfa-133">Sin embargo, las funcionalidades varían en los entornos local y de nube.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-133">However, capabilities vary across cloud and on-premises environments.</span></span> <span data-ttu-id="9fbfa-134">Considere los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-134">Consider the following points:</span></span>

- <span data-ttu-id="9fbfa-135">¿Las funciones, los puntos de conexión, los servicios y los demás recursos de la implementación están disponibles en las ubicaciones de implementación de destino?</span><span class="sxs-lookup"><span data-stu-id="9fbfa-135">Are the functions, endpoints, services, and other resources in your deployment available in the target deployment locations?</span></span>
- <span data-ttu-id="9fbfa-136">¿Los artefactos de configuración se almacenan en ubicaciones a las que se puede acceder a través de nubes?</span><span class="sxs-lookup"><span data-stu-id="9fbfa-136">Are configuration artifacts stored in locations that are accessible across clouds?</span></span>
- <span data-ttu-id="9fbfa-137">¿Los parámetros de implementación funcionarán en todos los entornos de destino?</span><span class="sxs-lookup"><span data-stu-id="9fbfa-137">Will deployment parameters work in all the target environments?</span></span>
- <span data-ttu-id="9fbfa-138">¿Las propiedades específicas de los recursos están disponibles en todas las nubes de destino?</span><span class="sxs-lookup"><span data-stu-id="9fbfa-138">Are resource-specific properties available in all target clouds?</span></span>

<span data-ttu-id="9fbfa-139">Para obtener más información, consulte [Desarrollo de plantillas de Azure Resource Manager para mantener la coherencia en la nube](/azure/azure-resource-manager/templates-cloud-consistency).</span><span class="sxs-lookup"><span data-stu-id="9fbfa-139">For more information, see [Develop Azure Resource Manager templates for cloud consistency](/azure/azure-resource-manager/templates-cloud-consistency).</span></span>

<span data-ttu-id="9fbfa-140">Asimismo, a la hora de decidir cómo implementar este patrón, debe tener en cuenta los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-140">In addition, consider the following points when deciding how to implement this pattern:</span></span>

### <a name="scalability"></a><span data-ttu-id="9fbfa-141">Escalabilidad</span><span class="sxs-lookup"><span data-stu-id="9fbfa-141">Scalability</span></span>

<span data-ttu-id="9fbfa-142">Los sistemas de automatización de la implementación son el punto de control clave en los patrones de DevOps.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-142">Deployment automation systems are the key control point in the DevOps Patterns.</span></span> <span data-ttu-id="9fbfa-143">Las implementaciones pueden variar.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-143">Implementations can vary.</span></span> <span data-ttu-id="9fbfa-144">La elección del tamaño correcto del servidor depende del tamaño de la carga de trabajo esperada.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-144">The selection of the correct server size depends on the size of the expected workload.</span></span> <span data-ttu-id="9fbfa-145">Las máquinas virtuales son más difíciles de escalar que los contenedores.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-145">VMs cost more to scale than containers.</span></span> <span data-ttu-id="9fbfa-146">Sin embargo, para utilizar contenedores para el escalado, el proceso de compilación debe ejecutarse con contenedores.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-146">To use containers for scaling, however, your build process must run with containers.</span></span>

### <a name="availability"></a><span data-ttu-id="9fbfa-147">Disponibilidad</span><span class="sxs-lookup"><span data-stu-id="9fbfa-147">Availability</span></span>

<span data-ttu-id="9fbfa-148">La disponibilidad en el contexto de DevPattern significa poder recuperar cualquier información de estado asociada al flujo de trabajo como, por ejemplo, los resultados de las pruebas, las dependencias de código u otros artefactos.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-148">Availability in the context of the DevPattern means being able to recover any state information associated with your workflow, such as test results, code dependencies, or other artifacts.</span></span> <span data-ttu-id="9fbfa-149">Para evaluar los requisitos de disponibilidad, tenga en cuenta dos métricas comunes:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-149">To assess your availability requirements, consider two common metrics:</span></span>

- <span data-ttu-id="9fbfa-150">Objetivo de tiempo de recuperación (RTO) especifica cuánto tiempo se puede estar sin un sistema.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-150">Recovery Time Objective (RTO) specifies how long you can go without a system.</span></span>

- <span data-ttu-id="9fbfa-151">Objetivo de punto de recuperación (RPO) indica la cantidad de datos que puede permitirse perder si una interrupción del servicio afecta al sistema.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-151">Recovery Point Objective (RPO) indicates how much data you can afford to lose if a disruption in service affects the system.</span></span>

<span data-ttu-id="9fbfa-152">En la práctica, las métricas RTO y el RPO implican redundancia y copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-152">In practice, RTO, and RPO imply redundancy and backup.</span></span> <span data-ttu-id="9fbfa-153">En la nube global de Azure, la disponibilidad no es una cuestión de recuperación de hardware, que forma parte de Azure, sino más bien de garantizar que mantenga el estado de sus sistemas DevOps.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-153">On the global Azure cloud, availability isn't a question of hardware recovery—that's part of Azure—but rather ensuring you maintain the state of your DevOps systems.</span></span> <span data-ttu-id="9fbfa-154">En Azure Stack Hub, es posible que deba tenerse en cuenta la recuperación de hardware.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-154">On Azure Stack Hub, hardware recovery may be a consideration.</span></span>

<span data-ttu-id="9fbfa-155">Otro factor importante a tener en cuenta a la hora de diseñar el sistema que se usa para la automatización de la implementación es el control de acceso y la administración adecuada de los derechos necesarios para implementar servicios en entornos de nube.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-155">Another major consideration when designing the system used for deployment automation is access control and the proper management of the rights needed to deploy services to cloud environments.</span></span> <span data-ttu-id="9fbfa-156">¿Qué derechos son necesarios para crear, eliminar o modificar implementaciones?</span><span class="sxs-lookup"><span data-stu-id="9fbfa-156">What rights are needed to create, delete, or modify deployments?</span></span> <span data-ttu-id="9fbfa-157">Por ejemplo, normalmente se necesita un conjunto de derechos para crear un grupo de recursos en Azure y otro para implementar servicios en el grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-157">For example, one set of rights is typically required to create a resource group in Azure and another to deploy services in the resource group.</span></span>

### <a name="manageability"></a><span data-ttu-id="9fbfa-158">Facilidad de uso</span><span class="sxs-lookup"><span data-stu-id="9fbfa-158">Manageability</span></span>

<span data-ttu-id="9fbfa-159">El diseño de cualquier sistema basado en el patrón DevOps debe tener en cuenta la automatización, el registro y las alertas de cada servicio de la cartera.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-159">The design of any system based on the DevOps pattern must consider automation, logging, and alerting for each service across the portfolio.</span></span> <span data-ttu-id="9fbfa-160">Use servicios compartidos, un equipo de aplicaciones o ambos, y realice un seguimiento de las directivas de seguridad y de la gobernanza.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-160">Use shared services, an application team, or both, and track security policies and governance as well.</span></span>

<span data-ttu-id="9fbfa-161">Implemente entornos de producción y entornos de desarrollo y pruebas en grupos de recursos independientes en Azure o Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-161">Deploy production environments and development/test environments in separate resource groups on Azure or Azure Stack Hub.</span></span> <span data-ttu-id="9fbfa-162">De este modo, puede supervisar los recursos de cada entorno y acumular los costos de facturación por grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-162">Then you can monitor each environment's resources and roll up billing costs by resource group.</span></span> <span data-ttu-id="9fbfa-163">También se pueden eliminar recursos en conjunto, lo que resulta útil cuando se realizan implementaciones de prueba.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-163">You can also delete resources as a set, which is useful for test deployments.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="9fbfa-164">Cuándo usar este patrón</span><span class="sxs-lookup"><span data-stu-id="9fbfa-164">When to use this pattern</span></span>

<span data-ttu-id="9fbfa-165">Use este patrón en los siguientes casos:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-165">Use this pattern if:</span></span>

- <span data-ttu-id="9fbfa-166">Puede desarrollar código en un entorno que satisfaga las necesidades de los desarrolladores e implementarlo en un entorno específico de la solución en el que puede que sea difícil desarrollar código nuevo.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-166">You can develop code in one environment that meets the needs of your developers, and deploy to an environment specific to your solution where it may be difficult to develop new code.</span></span>
- <span data-ttu-id="9fbfa-167">Puede usar el código y las herramientas que los desarrolladores quieran, siempre y cuando puedan seguir el proceso de integración y entrega continuas del patrón de DevOps.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-167">You can use the code and tools your developers would like, as long as they're able to follow the continuous integration and continuous delivery process in the DevOps Pattern.</span></span>

<span data-ttu-id="9fbfa-168">No se recomienda este patrón:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-168">This pattern isn't recommended:</span></span>

- <span data-ttu-id="9fbfa-169">Si no puede automatizar la infraestructura, el aprovisionamiento de recursos, la configuración, la identidad y las tareas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-169">If you can't automate infrastructure, provisioning resources, configuration, identity, and security tasks.</span></span>
- <span data-ttu-id="9fbfa-170">Si los equipos no tienen acceso a recursos de nube híbrida para implementar un enfoque de integración continua/desarrollo continuo (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="9fbfa-170">If teams don't have access to hybrid cloud resources to implement a Continuous Integration/Continuous Development (CI/CD) approach.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9fbfa-171">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9fbfa-171">Next steps</span></span>

<span data-ttu-id="9fbfa-172">Para más información sobre los temas presentados en este artículo:</span><span class="sxs-lookup"><span data-stu-id="9fbfa-172">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="9fbfa-173">Consulte la [documentación de Azure DevOps](/azure/devops) para más información sobre Azure DevOps y las herramientas relacionadas, como Azure Repos y Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-173">See the [Azure DevOps documentation](/azure/devops) to learn more about Azure DevOps and related tools, including Azure Repos, and Azure Pipelines.</span></span>
- <span data-ttu-id="9fbfa-174">Consulte la información relativa a la [familia de productos y soluciones de Azure Stack](/azure-stack) para más información sobre toda la gama de productos y soluciones.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-174">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="9fbfa-175">Cuando esté listo para probar la solución de ejemplo, continúe con la [guía de implementación de la solución de CI/CD híbrida de DevOps](https://aka.ms/hybriddevopsdeploy).</span><span class="sxs-lookup"><span data-stu-id="9fbfa-175">When you're ready to test the solution example, continue with the [DevOps hybrid CI/CD solution deployment guide](https://aka.ms/hybriddevopsdeploy).</span></span> <span data-ttu-id="9fbfa-176">La guía de implementación proporciona instrucciones paso a paso para implementar y probar sus componentes.</span><span class="sxs-lookup"><span data-stu-id="9fbfa-176">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span> <span data-ttu-id="9fbfa-177">Aprenda a implementar una aplicación en Azure y Azure Stack Hub mediante una canalización híbrida de integración y entrega continuas (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="9fbfa-177">You learn how to deploy an app to Azure and Azure Stack Hub using a hybrid continuous integration/continuous delivery (CI/CD) pipeline.</span></span>
